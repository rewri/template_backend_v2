#!/usr/bin/env sh

echo "üîç Running pre-commit validations..."

# ESLint + Prettier + Build validation
echo "üìù Running lint-staged (ESLint + Prettier + Build)..."
npm run pre-commit

# TypeScript validation
echo "üîß Validating TypeScript..."
npx tsc --noEmit

# Migration validation (check if there are pending migrations)
echo "üóÑÔ∏è Checking for pending migrations..."
npm run migration:show > /dev/null 2>&1 || echo "‚ö†Ô∏è Could not check migrations (this is OK if DB is not running)"

echo "‚úÖ Pre-commit validations completed!"
